<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Loja de Tênis - Login</title>
  <link rel="stylesheet" href="login.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
</head>

<body>
  <div class="container">
    <h2>Login</h2>

    <div id="loginFrame" class="frame">
      <input type="email" id="email" placeholder="Digite seu e-mail" required />
      <button id="btnAvancar">Avançar</button>
    </div>

    <div id="senhaFrame" class="frame" style="display:none;">
      <p id="nomeUsuario"></p>
      <input type="password" id="senha" placeholder="Digite sua senha" required />
      <button id="btnEntrar">Entrar</button>
    </div>
    <p style="text-align:center; margin-top:12px;">Ainda não tem conta? <a id="cadastroLink" href="/cadastro-form">Cadastre-se aqui</a></p>
  </div>

  <script src="login.js"></script>
  <script>
    (function(){
      // Se a página estiver sendo servida de uma origem diferente do backend,
      // força o link de cadastro a apontar para o backend (evita 404 do Live Server)
      try {
        var backend = 'http://localhost:3001';
        var link = document.getElementById('cadastroLink');
        if (!link) return;
        var backendOrigin = new URL(backend).origin;
        if (window.location.origin !== backendOrigin) {
          link.href = backend + '/cadastro-form';
        }
      } catch (e) {
        console.error('Erro ao ajustar link de cadastro:', e);
      }
    })();
  </script>
</body>
</html>
